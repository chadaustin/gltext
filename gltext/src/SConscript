import os
pj = os.path.join

Import('baseEnv PREFIX')
Import('SetupFreeType SetupOpenGL')

sources = Split("""
   gltext.cpp
   AbstractRenderer.cpp
   BitmapRenderer.cpp
   FTFont.cpp
   FTGlyph.cpp
   FTLibrary.cpp
   GLPixelGlyph.cpp
   GLTextureGlyph.cpp
   PixmapRenderer.cpp
   TextureRenderer.cpp
""")

# Clone the environment
env = baseEnv.Copy()
SetupFreeType(env)
SetupOpenGL(env)

libraries = []
libraries.append(env.SharedLibrary(target = 'gltext', source = sources))

# Installation
env.Install(pj(PREFIX, 'include'), 'gltext.h')
env.Install(pj(PREFIX, 'lib'), libraries)
